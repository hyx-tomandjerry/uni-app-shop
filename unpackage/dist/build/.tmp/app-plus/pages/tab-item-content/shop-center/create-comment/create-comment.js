(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tab-item-content/shop-center/create-comment/create-comment"],{1018:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s("c4e7"),i=function(){return s.e("components/start/App").then(s.bind(null,"f971"))},o={data:function(){return{avatar:["https://ossweb-img.qq.com/images/lol/web201310/skin/big10001.jpg","https://ossweb-img.qq.com/images/lol/web201310/skin/big81005.jpg","https://ossweb-img.qq.com/images/lol/web201310/skin/big25002.jpg","https://ossweb-img.qq.com/images/lol/web201310/skin/big99008.jpg"],imgList:[],cur1:5,cur2:5,cur3:5,flag:!1,repaitItem:"",files:[],summary:"",detail1:"非常满意",detail2:"非常满意",detail3:"非常满意",orderID:""}},components:{myIssue:i},methods:{getOrderInfo:function(t){var s=this;e.request({url:this.$store.state.url+"ServiceOrder",data:{id:t},success:function(e){e.data.data.summary||(e.data.data.summary=""),s.repaitItem=e.data.data}})},ChooseImage:function(t){var s=this;e.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album"],success:function(t){console.log(t," at pages\\tab-item-content\\shop-center\\create-comment\\create-comment.vue:122"),0!=s.imgList.length?s.imgList=s.imgList.concat(t.tempFilePaths):s.imgList=t.tempFilePaths;for(var i={params:{"x:owner":18,"x:creator":49,"x:type":18}},o={useCdnDomain:!1},a=0;a<t.tempFilePaths.length;a++){var c=n.upload(t.tempFilePaths[a],t.tempFilePaths[a].split("/")[3]+".jpg",s.token,i,o);c.subscribe(function(){},function(){},function(t){s.files.push(t.data),s.files.length===s.imgList.length&&e.showToast({title:"上传成功",icon:"success"})})}}})},ViewImage:function(t){e.previewImage({urls:this.imgList,current:t})},DelImg:function(t){var s=this;e.showModal({content:"确定删除？",cancelText:"取消",confirmText:"确定",success:function(n){n.confirm&&(s.imgList.splice(t,1),e.request({url:s.$store.state.url+"RemoveFiles",data:{id:s.files[t],owner:18},success:function(n){s.files.splice(t,1),e.showToast({title:"删除成功",icon:"none"})}}))}})},getUploadToken:function(){var t=this;e.request({url:this.$store.state.url+"UploadToken",success:function(e){t.token=e.data.data}})},selected:function(e,t){this.flag=!0,"service"==t&&(this.cur1=e,this.detail1=e>=5?"非常满意":e>=3?"满意":e>=1?"一般":"不满意"),"timely"==t&&(this.cur2=e,e>=5?this.detail2="非常满意":e>=3?this.detail3="满意":this.detail2=e>=1?"一般":"不满意"),"quantity"==t&&(this.cur3=e,this.detail3=e>=5?"非常满意":e>=3?"满意":e>=1?"一般":"不满意")},createComment:function(){console.log(this.files.join(",")," at pages\\tab-item-content\\shop-center\\create-comment\\create-comment.vue:252"),console.log(this.summary," at pages\\tab-item-content\\shop-center\\create-comment\\create-comment.vue:253"),console.log(this.cur1," at pages\\tab-item-content\\shop-center\\create-comment\\create-comment.vue:254"),console.log(this.cur2," at pages\\tab-item-content\\shop-center\\create-comment\\create-comment.vue:255"),console.log(this.cur3," at pages\\tab-item-content\\shop-center\\create-comment\\create-comment.vue:256"),e.request({url:this.$store.state.url+"NewServiceOrderComments",data:{owner:18,userId:43,comment:this.summary,id:this.orderID,service:this.cur1,timely:this.cur2,quality:this.cur3,files:this.files?this.files.join(","):""},success:function(t){e.showToast({title:"验收评价成功",icon:"none"}),setTimeout(function(){e.navigateBack({delta:1})},500)}})}},onLoad:function(e){this.getUploadToken(),e&&(this.orderID=e.orderID,this.getOrderInfo(e.orderID))}};t.default=o}).call(this,s("6e42")["default"])},5518:function(e,t,s){"use strict";s.r(t);var n=s("1018"),i=s.n(n);for(var o in n)"default"!==o&&function(e){s.d(t,e,function(){return n[e]})}(o);t["default"]=i.a},"65a0":function(e,t,s){"use strict";var n=s("7ffe"),i=s.n(n);i.a},"7ffe":function(e,t,s){},abb9:function(e,t,s){"use strict";s.r(t);var n=s("b0fe"),i=s("5518");for(var o in i)"default"!==o&&function(e){s.d(t,e,function(){return i[e]})}(o);s("65a0");var a=s("2877"),c=Object(a["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=c.exports},b0fe:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},i=[];s.d(t,"a",function(){return n}),s.d(t,"b",function(){return i})}},[["96f3","common/runtime","common/vendor"]]]);